<!DOCTYPE html>
<html>
  <head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>
      
  《Learning Python》 笔记 第 3 章 你应如何运行程序 &ndash; OTTFF&#39;s Blog &lt;a id="topofpage">&lt;/a>

    </title>
    
    
    <meta name="description" property="og:description" content="第 3 章 你应如何运行程序 交互式命令行模式 开始一个交互式会话 &amp;gt; python Windows （cmd）上使用 &amp;lt;CTRL-Z&amp;gt; UNIX/PowerShell 上使用 &amp;lt;CTRL-D&amp;gt; 结束会话。 Python 3.3 中的新 Windows 选项：PATH 和 启动器 启动器用户可以输入 py 代替 python 并避免一些配置步骤。启动器可以更好的显式|OTTFF&#39;s Blog">
    

    <meta name="apple-mobile-web-app-title" content="OTTFF&#39;s Blog">
    
    
    
    

    <link rel="stylesheet" href="/assets/style.css">
    
    <link rel="stylesheet" href="/assets/primer-build.css">
    
    <link rel="stylesheet" href="/assets/copy-to-clipboard.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/vs.min.css">
    
    
  </head>


  <body class="bg-gray">
    <div id="holy" class="container-lg bg-white h-100">

      <div id="header" class="px-1 bg-white">
        <nav class="UnderlineNav UnderlineNav--right px-2">
  <a class="UnderlineNav-actions muted-link h2" href="https://ottffyzy.github.io/">
    OTTFF&#39;s Blog
  </a>

  
  
  <div class="UnderlineNav-body">
    
      
      
      <a class="UnderlineNav-item " href="/">
        
        <span>Home</span>
      </a>
      
    
      
      
      <a class="UnderlineNav-item " href="/templates">
        
        <span>Templates</span>
      </a>
      
    
      
      
      <a class="UnderlineNav-item " href="/categories/contests">
        
        <span>Contests</span>
      </a>
      
    
      
      
      <a class="UnderlineNav-item " href="/sols">
        
        <span>Solutions</span>
      </a>
      
    
      
      
      <a class="UnderlineNav-item " href="/categories/notes">
        
        <span>Notes</span>
      </a>
      
    
  </div>
  
</nav>

      </div>

      <div role="main" id="main" class="holy-main markdown-body px-4 bg-white">
        

<div class="Subhead">
  <div class="Subhead-heading">
    <div class="h1 mt-3 mb-1">《Learning Python》 笔记 第 3 章 你应如何运行程序</div>
  </div>
  <div class="Subhead-description">
    

<a href='/categories/notes' class="muted-link">
  <span class="Label Label--gray-darker">Notes</span>
</a>









<a href='/series/learning-python' class="muted-link">
  <span class="Label Label--gray">Learning Python</span>
</a>



    
    <div class="float-md-right">
      
      <span title="Lastmod: 2024-08-03. Published at: 2022-01-19.">
        
          Lastmod: 2024-08-03 周六 19:22:06
        
      </span>
    </div>
    
  </div>
</div>
<article>
  
  <section class="pb-6 mb-3 border-bottom markdown">
      <h2 id="第-3-章-你应如何运行程序">第 3 章 你应如何运行程序</h2>
<h3 id="交互式命令行模式">交互式命令行模式</h3>
<h4 id="开始一个交互式会话">开始一个交互式会话</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext">&gt; python
</code></pre></div><p>Windows （cmd）上使用</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext">&lt;CTRL-Z&gt;
</code></pre></div><p>UNIX/PowerShell 上使用</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext">&lt;CTRL-D&gt;
</code></pre></div><p>结束会话。</p>
<h4 id="python-33-中的新-windows-选项path-和-启动器">Python 3.3 中的新 Windows 选项：PATH 和 启动器</h4>
<p>启动器用户可以输入 <code>py</code> 代替 <code>python</code> 并避免一些配置步骤。启动器可以更好的显式掌控运行代码的 Python 版本。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext">&gt; py -2
&gt; py -3.1
</code></pre></div><h4 id="交互式地运行代码">交互式地运行代码</h4>
<p>交互式对话会自动打印输入的表达式的结果。</p>
<p>注意在交互模式只能输入 Python 代码，而要输入系统命令。需要使用系统命令则需要 <code>os.system</code>。</p>
<p>复合语句时，交互提示符会在第二行及后面由 <code>&gt;&gt;&gt;</code> 变成 <code>...</code> 并自动缩进。在该模式需要用一个空行结束复合语句。</p>
<p>交互命令行模式一次运行一条语句（多行构成的复合语句是一条语句）。</p>
<h4 id="使用命令行运行文件">使用命令行运行文件</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext">python script.py
python script.py &gt; out.txt
</code></pre></div><h3 id="unix-风格可执行脚本">Unix 风格可执行脚本：#!</h3>
<p>在 Unix 或类 Unix 系统上，可以将 Python 代码编程为可执行程序。一般这样的文件有两个特殊属性：</p>
<p>第一行是特定的 <code>#!</code> 开头，后面跟着 Python 解释器的路径。</p>
<p>往往拥有可执行权限。</p>
<p>注意这里后缀名不需要 <code>.py</code>。</p>
<p>一个脚本名为 brain，则在用 chmod 更改权限后，可以在目录下直接使用</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">$ brain
</code></pre></div><p>运行。</p>
<h4 id="unix-env-查找技巧">Unix env 查找技巧</h4>
<p>如果不想 hardcode Python 解释器的位置，则可以</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="ch">#!/usr/bin/env python</span>
<span class="o">...</span> <span class="n">script</span> <span class="o">...</span>
</code></pre></div><h3 id="点击文件图标">点击文件图标</h3>
<p>也可以靠点击 Python 文件图标运行 Python 脚本。</p>
<p>这里脚本会运行，但控制台很可能一闪而过。</p>
<p>这时我们可以在脚本结尾增加一行</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="nb">input</span><span class="p">()</span>
</code></pre></div><p>让脚本运行完暂停等待下一个输入。</p>
<p>另外点击打开，很可能会看不到错误信息。</p>
<h3 id="模块导入和重载">模块导入和重载</h3>
<p>每一个 <code>.py</code> 结尾的文件都会自动称为一个模块。</p>
<p>我们可以用 <code>import</code> 来导入模块。</p>
<p>注意导入模块只会发生一次，导入的文件内容会正常运行。</p>
<p>如果想要多次导入，需要使用 imp 库中的 reload 函数。</p>
<h4 id="模块的宏观视角属性">模块的宏观视角：属性</h4>
<p>我们可以用 <code>import</code> 导入整个模块，之后使用 <code>模块名.属性</code> 的方式使用其中定义的属性。</p>
<p>也可以直接使用 <code>from 模块 import 属性</code>的方式直接加载特定属性，直接使用属性名使用对应属性。</p>
<p>这里两种方式加载都会运行整个模块。</p>
<p>test.py</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">c</span> <span class="o">=</span> <span class="mi">2</span>

<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
</code></pre></div><p>powershell</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext">&gt;&gt;&gt; from test import a
0 1 2
&gt;&gt;&gt; a
0
</code></pre></div><p>可以使用内置的 dir 查看所有可用的变量名</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">test</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">dir</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
<span class="p">[</span><span class="s1">&#39;__builtins__&#39;</span><span class="p">,</span> <span class="s1">&#39;__cached__&#39;</span><span class="p">,</span> <span class="s1">&#39;__doc__&#39;</span><span class="p">,</span> <span class="s1">&#39;__file__&#39;</span><span class="p">,</span> <span class="s1">&#39;__loader__&#39;</span><span class="p">,</span> <span class="s1">&#39;__name__&#39;</span><span class="p">,</span> <span class="s1">&#39;__package__&#39;</span><span class="p">,</span> <span class="s1">&#39;__spec__&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
</code></pre></div><p>一些 <code>__</code> 开始和结束的变量是 Python 预定义的内置变量名，对解释器来说有特殊意义。</p>
<h4 id="模块和命名空间">模块和命名空间</h4>
<p>每个模块文件时一个变量包（一个命名空间）。</p>
<p>注意 from 可能会使包中定义的变量，覆盖当前的同名变量。</p>
<h4 id="使用注意import-和-reload">使用注意：import 和 reload</h4>
<p>注意需要代码的当前版本运行时需要 reload。reload 的加载不具有传递性。</p>
<h3 id="使用-exec-运行模块文件">使用 exec 运行模块文件</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">exec</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;script.py&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</code></pre></div><p>注意这种方式相当于直接运行脚本，而并不会加载模块。</p>
<h3 id="idle-用户界面其他-ide其他启动选项">IDLE 用户界面、其他 IDE、其他启动选项</h3>
<p>该部分内容跳过。</p>

  </section>

  <section>
    
        <a href="/notes/learningpython/c02/" class="previous_page">Prev: 《Learning Python》 笔记 第 2 章 Python 如何运行程序 </a>
    
     <br> 
    
        <a href="/notes/vimusermanual/c11/" class="next_page">Next: [Vim] usr_11 </a>
    
  </section>

  <section>
    
      
      
<div id="gitalk-container"></div>
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<script>
  const gitalk = new Gitalk({
    clientID: 'b60070c8fc2c3e5b67f2',
    clientSecret: '38bd9f39233a4031fcf3ff8fc94ce86241fce24e',
    repo: 'OTTFFYZY.github.io',
    owner: 'OTTFFYZY',
    admin: ['OTTFFYZY'],
    id: location.pathname, 
    distractionFreeMode: false 
  });
  (function() {
    if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
      document.getElementById('gitalk-container').innerHTML = 'Gitalk comments not available by default when the website is previewed locally.';
      return;
    }
    gitalk.render('gitalk-container');
  })();
</script>

    
  </section>
</article>

      </div>

      <div id="side" class="pr-1 bg-white">
        <aside class="pr-3">
          
  
    <div id="toc" class="Box Box--blue mb-3">
      <a herf="#topofpage" id="backtotop" onclick="scrollToTop(event)">《Learning Python》 笔记 第 3 章 你应如何运行程序</a><nav id="TableOfContents">
  <ul>
    <li><a href="#第-3-章-你应如何运行程序">第 3 章 你应如何运行程序</a>
      <ul>
        <li><a href="#交互式命令行模式">交互式命令行模式</a>
          <ul>
            <li><a href="#开始一个交互式会话">开始一个交互式会话</a></li>
            <li><a href="#python-33-中的新-windows-选项path-和-启动器">Python 3.3 中的新 Windows 选项：PATH 和 启动器</a></li>
            <li><a href="#交互式地运行代码">交互式地运行代码</a></li>
            <li><a href="#使用命令行运行文件">使用命令行运行文件</a></li>
          </ul>
        </li>
        <li><a href="#unix-风格可执行脚本">Unix 风格可执行脚本：#!</a>
          <ul>
            <li><a href="#unix-env-查找技巧">Unix env 查找技巧</a></li>
          </ul>
        </li>
        <li><a href="#点击文件图标">点击文件图标</a></li>
        <li><a href="#模块导入和重载">模块导入和重载</a>
          <ul>
            <li><a href="#模块的宏观视角属性">模块的宏观视角：属性</a></li>
            <li><a href="#模块和命名空间">模块和命名空间</a></li>
            <li><a href="#使用注意import-和-reload">使用注意：import 和 reload</a></li>
          </ul>
        </li>
        <li><a href="#使用-exec-运行模块文件">使用 exec 运行模块文件</a></li>
        <li><a href="#idle-用户界面其他-ide其他启动选项">IDLE 用户界面、其他 IDE、其他启动选项</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
  

  
    <div>
      
    </div>
  

        </aside>
      </div>

      <div id="footer" class="pt-2 pb-3 bg-white text-center">
        

  <span class="text-small text-gray">
    

    Powered by the
    <a href="https://github.com/qqhann/hugo-primer" class="link-gray-dark">Hugo-Primer</a> theme for
    <a href="https://gohugo.io" class="link-gray-dark">Hugo</a>.
  </span>


      </div>
    </div>

    
    
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [['$','$']],
          displayMath: [['$$','$$']],
          processEscapes: true,
          processEnvironments: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
          TeX: { equationNumbers: { autoNumber: "AMS" },
               extensions: ["AMSmath.js", "AMSsymbols.js"] }
        }
      });
      </script>
      
      
    
    <script src="/assets/highlight.pack.js"></script>
    
    
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
      hljs.initLineNumbersOnLoad({
        singleLine: true
      });
      hljs.configure({tabReplace: '  '});
    </script>

    <script src="/assets/copy-to-clipboard.js"></script>

    <script src="/assets/tagcanvas.min.js" type="text/javascript"></script>
    <script type="text/javascript">
      window.onload = function() {
        TagCanvas.weight = true;
        TagCanvas.weightFrom = 'data-weight';
        TagCanvas.weightMode = 'both';
        
        TagCanvas.weightSizeMin = 10;
        TagCanvas.weightSizeMax = 50;
        TagCanvas.minSpeed = 0.05;
        try {
          TagCanvas.Start('myCanvas', 'tags');
          TagCanvas.SetSpeed('myCanvas', [0.05, 0]);
          
        } catch(e) {
          
          document.getElementById('myCanvasContainer').style.display = 'none';
        }
      };
    </script>
    <script type="text/javascript">
      function scrollToTop(event) {
        event.preventDefault();
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      };
    </script>
  </body>
</html>
